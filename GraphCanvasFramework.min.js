//libray is under developing and need https://canvasjs.com/assets/script/canvasjs.min.js to use this lib
//อยู่ระหว่างการพัฒนา
//

var Chart =
{
    Pie:
    {
        Render:function(id,graphTitle,theme,unit,startAngle,fontSize,dataPoint)
        {
            var chart = new CanvasJS.Chart(id, {
				theme: theme, // "light1", "light2", "dark1", "dark2"
				exportEnabled: true,
				animationEnabled: true,
				title: {
					text: graphTitle
				},
				data: [{
					type: "pie",
					startAngle: startAngle,
					toolTipContent: "<b>{label}</b>: {y} " + unit,
					showInLegend: "true",
					legendText: "{label}",
					indexLabelFontSize: fontSize,
					indexLabel: "{label} - {y} " + unit,
					dataPoints: dataPoint
				}]
			});
			chart.render();
        }
    },
    TimeSeries:
    {
        CreateChartData:function(graphType,name,color,showLegend,points)
        {
            return {
            type: graphType,
            showInLegend: showLegend,
            name: name,
            color: color,
            dataPoints: points
            };
        },
        Render:function(id,graphTitle,theme,zoomAble,axisYName,graphData)
        {
            var chart = new CanvasJS.Chart(id, {
                exportEnabled: true,
                animationEnabled: true,
                zoomEnabled: zoomAble,
                theme: theme,
                title:{
                    text: graphTitle
                },
                axisX:{
                    valueFormatString: "DD MMM",
                    crosshair: {
                        enabled: true,
                        snapToDataPoint: true
                    }
                },
                axisY: {
                    title: axisYName,
                    includeZero: true,
                    crosshair: {
                        enabled: true
                    }
                },
                toolTip:{
                    shared:true
                },  
                legend:{
                    cursor:"pointer",
                    verticalAlign: "bottom",
                    horizontalAlign: "left",
                    dockInsidePlotArea: true,
                    itemclick: function(e)
                    {
                        if (typeof(e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
                            e.dataSeries.visible = false;
                        } else{
                            e.dataSeries.visible = true;
                        }
                        chart.render();
                    }
                },
                data: graphData
            });
            chart.render();
        }
    }
};