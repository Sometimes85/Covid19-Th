//libray is under developing
//อยู่ระหว่างการพัฒนา
//

var Http = {
    SendRequest:function(method,url,onSuccess,onError)
    {
        const request = new XMLHttpRequest();
        console.log("Send request:" + method + "," + url);
        request.open(method, url, true);  
        request.onload = function()
        { 
            console.log("Response = "+ Http.GetStatusResponseTex(request.status) + "\n");
            if(request.status == 200)
            {                                        
                console.log("Call : " + onSuccess.name +"\n");
                onSuccess(this.response); 
            }
        
        }

        request.onerror = function()
        {
            console.log("Request error");
            onError(this.response);
        }

        request.ontimeout = function()
        {
            console.log("Request Time out");
        }

        request.send();
    },
    GetStatusResponseTex:function (status) 
    {
        var returnText = "";
        for(let i =0 ; i< Http.ResponseStatus.length; i++)
        {
            if(Http.ResponseStatus[i].Code == status)
            {
                return Http.ResponseStatus[i].Text;
            }
        }
        return returnText;
    },
    ResponseStatus:[
                    {Code:"100",Text:"Continue: The server has received the request headers, and the client should proceed to send the request body"},
                    {Code:"101",Text:"Switching Protocols: The requester has asked the server to switch protocols"},
                    {Code:"103",Text:"Checkpoint: Used in the resumable requests proposal to resume aborted PUT or POST requests"},
                    {Code:"200",Text:"OK: Successful HTTP requests"},
                    {Code:"201",Text:"Created: New resource is created "},
                    {Code:"202",Text:"Accepted: The request has been accepted for processing, but the processing has not been completed"},
                    {Code:"203",Text:"Non-Authoritative Information: The request has been successfully processed, but is returning information that may be from another source"},
                    {Code:"204",Text:"No Content: The request has been successfully processed, but is not returning any content"},
                    {Code:"205",Text:"Reset Content: The request has been successfully processed, but is not returning any content, and requires that the requester reset the document view"},
                    {Code:"206",Text:"Partial Content: The server is delivering only part of the resource due to a range header sent by the client"},
                    {Code:"300",Text:"Multiple Choices: A link list. The user can select a link and go to that location. Maximum five addresses "},
                    {Code:"301",Text:"Moved Permanently: The requested page has moved to a new URL"},
                    {Code:"302",Text:"Found: The requested page has moved temporarily to a new URL"},
                    {Code:"303",Text:"See Other: The requested page can be found under a different URL"},
                    {Code:"304",Text:"Not Modified: Indicates the requested page has not been modified since last requested"},
                    {Code:"306",Text:"Switch Proxy:"},
                    {Code:"307",Text:"Temporary Redirect: The requested page has moved temporarily to a new URL"},
                    {Code:"308",Text:"Resume Incomplete: Used in the resumable requests proposal to resume aborted PUT or POST requests"},
                    {Code:"400",Text:"Bad Request: The request cannot be fulfilled due to bad syntax"},
                    {Code:"401",Text:"Unauthorized: The request was a legal request, but the server is refusing to respond to it. For use when authentication is possible but has failed or not yet been provided"},
                    {Code:"402",Text:"Payment Required:"},
                    {Code:"403",Text:"Forbidden: The request was a legal request, but the server is refusing to respond to it"},
                    {Code:"404",Text:"Not Found: The requested page could not be found but may be available again in the future"},
                    {Code:"405",Text:"Method Not Allowed: A request was made of a page using a request method not supported by that page"},
                    {Code:"406",Text:"Not Acceptable: The server can only generate a response that is not accepted by the client"},
                    {Code:"407",Text:"Proxy Authentication Required: The client must first authenticate itself with the proxy"},
                    {Code:"408",Text:"Request Timeout: The server timed out waiting for the request"},
                    {Code:"409",Text:"Conflict: The request could not be completed because of a conflict in the request"},
                    {Code:"410",Text:"Gone: The requested page is no longer available"},
                    {Code:"411",Text:"Length Required: The 'Content-Length' is not defined. The server will not accept the request without it"},
                    {Code:"412",Text:"Precondition Failed: The precondition given in the request evaluated to false by the server"},
                    {Code:"413",Text:"Request Entity Too Large: The server will not accept the request, because the request entity is too large"},
                    {Code:"414",Text:"Request-URI Too Long: The server will not accept the request, because the URL is too long. Occurs when you convert a POST request to a GET request with a long query information "},
                    {Code:"415",Text:"Unsupported Media Type: The server will not accept the request, because the media type is not supported"},
                    {Code:"416",Text:"Requested Range Not Satisfiable: The client has asked for a portion of the file, but the server cannot supply that portion"},
                    {Code:"417",Text:"Expectation Failed: The server cannot meet the requirements of the Expect request-header field"},
                    {Code:"500",Text:"Internal Server Error: A generic error message, given when no more specific message is suitable"},
                    {Code:"501",Text:"Not Implemented: The server either does not recognize the request method, or it lacks the ability to fulfill the request"},
                    {Code:"502",Text:"Bad Gateway: The server was acting as a gateway or proxy and received an invalid response from the upstream server"},
                    {Code:"503",Text:"Service Unavailable: The server is currently unavailable (overloaded or down)"},
                    {Code:"504",Text:"Gateway Timeout: The server was acting as a gateway or proxy and did not receive a timely response from the upstream server"},
                    {Code:"505",Text:"HTTP Version Not Supported: The server does not support the HTTP protocol version used in the request"},
                    {Code:"511",Text:"Network Authentication Required: The client needs to authenticate to gain network access"},
                    ]
};